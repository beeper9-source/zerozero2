<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Zero Zero 2 Admin</title>
  <link rel="stylesheet" href="./styles2.css">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
  <!-- Supabase JS CDN -->
  <script defer src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <!-- Your Supabase config initializer -->
  <script defer src="./supabase-config.js"></script>
  <!-- App logic -->
  <script defer src="./app.js"></script>
</head>
<body>
  <div class="container">
    <header class="header">
      <h1><img src="./Samsung_Logo.svg" alt="Samsung" style="width:32px;height:32px;margin-right:8px;vertical-align:middle;"> Zero Zero 2</h1>
      <div class="header-actions">
        <button class="btn btn-primary" id="pcourtLoad"><i class="fas fa-building"></i> 코트 불러오기</button>
        <button class="btn btn-info" id="pmemLoad"><i class="fas fa-users"></i> 회원 불러오기</button>
        <button class="btn btn-secondary" id="pgameLoad"><i class="fas fa-list"></i> 결과 불러오기</button>
      </div>
    </header>

    <div class="search-section" style="margin-bottom:16px;">
      <div class="row" style="justify-content:space-between;">
        <div><strong>Status:</strong> <span id="status">Ready</span></div>
        <div><span id="errors" class="error"></span></div>
      </div>
    </div>

  <div class="search-section">
  <h2 style="margin-bottom:10px; cursor: pointer; user-select: none;" onclick="toggleSection('gameResult')">
    <i class="fas fa-trophy"></i> P_game_result (게임결과)
    <i class="fas fa-chevron-down" id="gameResult-chevron" style="float: right; transition: transform 0.3s ease;"></i>
  </h2>
  <div id="gameResult-content" class="section-content">
  <div class="row">
    <button id="pgameLoad">Load results</button>
  </div>
  <div class="row">
    <label for="pgameDate"><i class="fas fa-key" style="color:#e53e3e; margin-right:5px;"></i>date</label>
    <input id="pgameDate" type="date" />
  </div>
  <div class="row">
    <label for="pgameMember"><i class="fas fa-key" style="color:#e53e3e; margin-right:5px;"></i>member</label>
    <select id="pgameMember"></select>
  </div>
  <div class="row">
    <label for="pgameWins">wins</label>
    <input id="pgameWins" type="number" min="0" value="0" />
  </div>
  <div class="row">
    <label for="pgameLosses">losses</label>
    <input id="pgameLosses" type="number" min="0" value="0" />
  </div>
  <div class="row">
    <label for="pgameCourt">court</label>
    <select id="pgameCourt"></select>
  </div>
  <div class="row">
    <button id="pgameCreate">Save</button>
    <button id="pgameUpdate">Update</button>
    <button id="pgameDelete">Delete</button>
  </div>
  <!-- Game Results Table -->
  <div style="overflow:auto; margin-top:20px;">
    <table id="pgameTable" style="width:100%; border-collapse:collapse; background:#fff;">
      <thead>
        <tr style="background:#f7fafc;">
          <th style="text-align:left; padding:8px; border-bottom:1px solid #e2e8f0;">Date</th>
          <th style="text-align:left; padding:8px; border-bottom:1px solid #e2e8f0;">Member</th>
          <th style="text-align:left; padding:8px; border-bottom:1px solid #e2e8f0;">Court</th>
          <th style="text-align:right; padding:8px; border-bottom:1px solid #e2e8f0;">Wins</th>
          <th style="text-align:right; padding:8px; border-bottom:1px solid #e2e8f0;">Losses</th>
          <th style="text-align:right; padding:8px; border-bottom:1px solid #e2e8f0;">Winrate</th>
        </tr>
      </thead>
      <tbody id="pgameTableBody"></tbody>
    </table>
  </div>
  </div>
  </div>

  <div class="search-section">
  <h2 style="margin-bottom:10px; cursor: pointer; user-select: none;" onclick="toggleSection('member')">
    <i class="fas fa-user"></i> P_member (회원)
    <i class="fas fa-chevron-down" id="member-chevron" style="float: right; transition: transform 0.3s ease;"></i>
  </h2>
  <div id="member-content" class="section-content">
  <div class="row">
    <button id="pmemLoad">Load members</button>
    <button id="pmemCreate">Add Member</button>
  </div>
  
  <!-- Member Form (hidden by default) -->
  <div id="pmemForm" style="display:none; margin-top:20px; padding:20px; background:#f7fafc; border-radius:8px;">
    <h3>회원 정보</h3>
    <div class="row">
      <label for="pmemName">name</label>
      <input id="pmemName" type="text" placeholder="홍길동" />
    </div>
    <div class="row">
      <label for="pmemDept">department</label>
      <input id="pmemDept" type="text" placeholder="영업팀" />
    </div>
    <div class="row">
      <button id="pmemSave">Save</button>
      <button id="pmemCancel">Cancel</button>
    </div>
  </div>
  
  <!-- Member Cards Grid -->
  <div id="pmemGrid" class="members-grid" style="margin-top:20px;">
    <!-- Member cards will be inserted here -->
  </div>
  </div>
  </div>

  <div class="search-section">
  <h2 style="margin-bottom:10px; cursor: pointer; user-select: none;" onclick="toggleSection('court')">
    <i class="fas fa-building"></i> P_court (구장)
    <i class="fas fa-chevron-down" id="court-chevron" style="float: right; transition: transform 0.3s ease;"></i>
  </h2>
  <div id="court-content" class="section-content">
  <div class="row">
    <button id="pcourtLoad">Load courts</button>
    <button id="pcourtLoadAll">Load all courts</button>
    <button id="pcourtCreate">Add Court</button>
  </div>
  
  <!-- Court Form (hidden by default) -->
  <div id="pcourtForm" style="display:none; margin-top:20px; padding:20px; background:#f7fafc; border-radius:8px;">
    <h3>구장 정보</h3>
    <div class="row">
      <label for="pcourtName">name</label>
      <input id="pcourtName" type="text" placeholder="중앙체육관 A코트" />
    </div>
    <div class="row">
      <label for="pcourtActive">활성 상태</label>
      <input id="pcourtActive" type="checkbox" checked />
    </div>
    <div class="row">
      <button id="pcourtSave">Save</button>
      <button id="pcourtCancel">Cancel</button>
    </div>
  </div>
  
  <!-- Court Cards Grid -->
  <div id="pcourtGrid" class="members-grid" style="margin-top:20px;">
    <!-- Court cards will be inserted here -->
  </div>
  </div>
  </div>

  <!-- Footer with source update date -->
  <footer style="text-align: center; margin-top: 40px; padding: 20px; color: #64748b; font-size: 0.9rem; border-top: 1px solid #e2e8f0;">
    <p>소스 최종 반영일: <span id="lastUpdateDate"></span></p>
    <p style="margin-top: 8px;">소스위치: <a href="https://github.com/beeper9-source/zerozero2" target="_blank" style="color: #667eea; text-decoration: none;">github.com/beeper9-source/zerozero2</a></p>
  </footer>

  <noscript>자바스크립트가 필요합니다.</noscript>
  </div>
</body>
</html>

